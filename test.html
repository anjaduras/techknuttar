<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Personality Test</title>
<link rel="stylesheet" href="styles.css">
</head>
<style>
  @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono&family=Share+Tech+Mono&family=Silkscreen&display=swap');

body {
  font-family: 'IBM Plex Mono', monospace;
}

h1, h2, h3, h4, h5, h6 {
  font-family: 'Share Tech Mono', monospace;
}

.logo {
  font-family: 'Silkscreen', monospace;
}

.question { display: none; margin-bottom: 20px; }
.active { display: block; }
.result { margin-top: 30px; font-weight: bold; font-family: 'Silkscreen', monospace; }
</style>
<body>
  <h1>Personality Test</h1>
  <form id="quizForm">
    <div id="questions"></div>
  
    <div id="progressContainer">
      <div id="progressBar"></div>
    </div>
  
    <button type="button" id="nextBtn" disabled>Next</button>
    <button type="submit" id="submitBtn" style="display: none;">Get Result</button>
  </form>
  
  
  <div class="result" id="result"></div>

  <script>
    const characters = ["HTML", "CSS", "JS", "PYTHON", "SQL", "CPP"];
    const points = Object.fromEntries(characters.map(c => [c, 0]));
    
    const characterInfo = {
    HTML: {
      description: "You are the structure behind everything — reliable, foundational, and essential.",
      image: "images/html.png"
    },
    CSS: {
      description: "You're all about aesthetics and presentation — stylish and expressive.",
      image: "images/css.png"
    },
    JS: {
      description: "Dynamic and creative, you're quick-thinking and love interaction.",
      image: "images/js.png"
    },
    PYTHON: {
      description: "Logical, clear, and versatile — you're a problem solver at heart.",
      image: "images/python.png"
    },
    SQL: {
      description: "You're organized, methodical, and always know where things belong.",
      image: "images/sql.png"
    },
    CPP: {
      description: "Powerful and efficient, you dive deep into complex problems.",
      image: "images/cpp.png"
    }
  };


    const questions = [
      { q: "Pick a color:", a: [
          { label: "Red", value: ["HTML"] },
          { label: "Blue", value: ["CSS"] },
          { label: "Green", value: ["JS"] }
        ] 
      },
      { q: "Choose a hobby:", a: [
          { label: "Reading", value: ["PYTHON"] },
          { label: "Hiking", value: ["SQL"] },
          { label: "Gaming", value: ["CPP"] }
        ] 
      },
      { q: "Pick a time of day:", a: [
          { label: "Morning", value: ["HTML"] },
          { label: "Evening", value: ["PYTHON"] },
          { label: "Night", value: ["CPP"] }
        ] 
      },
      { q: "Choose a trait:", a: [
          { label: "Logical", value: ["CSS"] },
          { label: "Creative", value: ["JS"] },
          { label: "Empathetic", value: ["SQL"] }
        ] 
      },
      { q: "Favorite season?", a: [
          { label: "Summer", value: ["HTML"] },
          { label: "Autumn", value: ["JS"] },
          { label: "Winter", value: ["SQL"] }
        ] 
      },
      { q: "Ideal vacation?", a: [
          { label: "City adventure", value: ["CSS"] },
          { label: "Mountain hike", value: ["PYTHON"] },
          { label: "Beach chill", value: ["CPP"] }
        ] 
      },
      { q: "Pick a pet:", a: [
          { label: "Cat", value: ["JS"] },
          { label: "Dog", value: ["SQL"] },
          { label: "Bird", value: ["HTML"] }
        ] 
      },
      { q: "Best describes you:", a: [
          { label: "Free-spirited", value: ["CPP"] },
          { label: "Focused", value: ["PYTHON"] },
          { label: "Caring", value: ["CSS"] }
        ] 
      },
      { q: "Pick one:", a: [
          { label: "Strategy", value: ["HTML"] },
          { label: "Support", value: ["CSS"] },
          { label: "Chaos", value: ["JS"] },
          { label: "Discipline", value: ["PYTHON"] },
          { label: "Compassion", value: ["SQL"] },
          { label: "Mystery", value: ["CPP"] }
        ] 
      }
    ];


    const questionsDiv = document.getElementById("questions");
    let currentQuestion = 0;
    let quizFinished = false;


    // Render questions
    questions.forEach((q, i) => {
      const div = document.createElement("div");
      div.className = "question";
      if (i === 0) div.classList.add("active");
      div.innerHTML = `<p>Q${i + 1}: ${q.q}</p>`;
      q.a.forEach((answer, j) => {
  const value = answer.value.join(",");
  div.innerHTML += `
    <label>
      <input type="radio" name="q${i}" value="${value}" />
      ${answer.label}
    </label><br/>
  `;
});

      questionsDiv.appendChild(div);
    });

    const nextBtn = document.getElementById("nextBtn");
    const submitBtn = document.getElementById("submitBtn");

    // Enable Next button on answer
    questionsDiv.addEventListener("change", () => {
      nextBtn.disabled = false;
    });

    nextBtn.addEventListener("click", () => {
      const currentDiv = document.querySelectorAll(".question")[currentQuestion];
      currentDiv.classList.remove("active");
      currentQuestion++;

      if (currentQuestion < questions.length) {
        document.querySelectorAll(".question")[currentQuestion].classList.add("active");
        nextBtn.disabled = true;

        if (currentQuestion === questions.length - 1) {
          nextBtn.style.display = "none";
          submitBtn.style.display = "inline-block";
        }
      }
    });

    document.getElementById("quizForm").addEventListener("submit", function (e) {
  e.preventDefault();
  Object.keys(points).forEach(key => points[key] = 0);

  questions.forEach((_, i) => {
    const answer = document.querySelector(`input[name="q${i}"]:checked`).value;
    answer.split(",").forEach(char => {
      if (points[char] !== undefined) {
        points[char]++;
      }
    });
  });

  const topChar = Object.entries(points).sort((a, b) => b[1] - a[1])[0];
  const info = characterInfo[topChar[0]];

  quizFinished = true; // <--- add this

document.getElementById("quizForm").style.display = "none";
document.getElementById("progressContainer").style.display = "none";

  // Show result only
  const resultDiv = document.getElementById("result");
  resultDiv.style.display = "block";
  resultDiv.innerHTML = `
    <h2>Your character is: ${topChar[0]}</h2>
    <p>${info.description}</p>
    <img src="${info.image}" alt="${topChar[0]}" style="max-width: 200px; margin-top: 10px;" />
  `;
});

  </script>
  <script src="progress.js"></script>
</body>
</html>